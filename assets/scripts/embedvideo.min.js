const getVideoId=require("get-video-id"),videoThumbnailUrl=require("video-thumbnail-url"),download=require("image-downloader"),fs=require("fs");module.exports=function(url){var id,service,imgFile,thumb="",videoData={};return url.constructor===Array?(videoData.service=url[0],videoData.id=url[1],thumb=url[2]):videoData=getVideoId(url),videoData&&videoData.id&&videoData.service?(id=videoData.id,service=videoData.service,imgFile="assets/images/video-thumbs/"+service+"-"+(thumb||id)+".jpg",fs.existsSync(imgFile)||videoThumbnailUrl(url).then(thumb_url=>{if(thumb_url){var options={url:thumb_url,dest:imgFile};download.image(options).then(({filename:filename,image:image})=>{console.log("Video thumb saved to",filename)}).catch(err=>{console.error(err)})}}),videoData.thumb&&(thumb=` data-video-thumb="${thumb}"`),`<div class="video-player-wrap"><div class="video-player" data-video-id="${id}" data-video-service="${service}"${thumb}></div></div>`):""};